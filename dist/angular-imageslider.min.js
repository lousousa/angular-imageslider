(function(){angular.module("ngImageslider",[])}).call(this),function(){var imagesliderCtrl;imagesliderCtrl=function(){var activate,close,keyDown,selectImage,vm;vm=this,selectImage=function(idx){return vm.slider.current=idx,angular.element(document.querySelector(".imgsld .imgsld-modal")).addClass("show"),!0},close=function(){return angular.element(document.querySelector(".imgsld .imgsld-modal")).removeClass("show"),!0},keyDown=function(ev){return 27===ev.keyCode?vm.close():37===ev.keyCode?vm.slider.prev():39===ev.keyCode?vm.slider.next():void 0},(activate=function(){return vm.selectImage=selectImage,vm.close=close,vm.keyDown=keyDown})()},angular.module("ngImageslider").controller("imagesliderCtrl",imagesliderCtrl)}.call(this),function(){var imageslider;imageslider=function($timeout,$compile,$window,$interval){return{restrict:"A",scope:{imageslider:"="},templateUrl:"image-slider/image-slider.html",transclude:!0,controller:"imagesliderCtrl as vm",link:function(scope,el,attr,ctrl){return ctrl.slider={pictureList:scope.imageslider,current:0,getNext:function(){return Math.min(this.current+1,scope.imageslider.length-1)},getPrev:function(){return Math.max(this.current-1,0)},next:function(){return this.current=this.getNext()},prev:function(){return this.current=this.getPrev()}},angular.forEach(ctrl.slider.pictureList,function(picture){var interval;return picture._data=new Image,picture._data.src=picture.url,interval=$interval(function(){return picture._data.complete?($interval.cancel(interval),picture._data.loaded=!0):void 0})}),$timeout(function(){var $imagebox,$wrapper,_setHeight;return angular.forEach(el[0].querySelectorAll("[imageslider-trigger]"),function(trigger){var imgIndex;return imgIndex=parseInt(angular.element(trigger).attr("imageslider-trigger")),angular.element(trigger).attr("ng-click","vm.selectImage("+imgIndex+")"),$compile(angular.element(trigger))(scope)}),$imagebox=angular.element(document.querySelector(".imgsld .imgsld-imagebox")),$wrapper=angular.element(document.querySelector(".imgsld .imgsld-wrapper")),_setHeight=function(){return $imagebox.css({height:.92*$window.innerHeight+"px"}),$wrapper.css({height:.08*$window.innerHeight+"px"})},_setHeight(),angular.element($window).on("resize",_setHeight)})}}},angular.module("ngImageslider").directive("imageslider",imageslider)}.call(this);